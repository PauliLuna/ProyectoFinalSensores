// @ts-nocheck
const _0x5f2482=_0x53a9;(function(_0x4beb5d,_0x547b0c){const _0x23500c=_0x53a9,_0xa844f3=_0x4beb5d();while(!![]){try{const _0x550443=-parseInt(_0x23500c(0xfa))/0x1+parseInt(_0x23500c(0x1b1))/0x2*(-parseInt(_0x23500c(0xf7))/0x3)+-parseInt(_0x23500c(0xf8))/0x4+-parseInt(_0x23500c(0x1be))/0x5+parseInt(_0x23500c(0xec))/0x6+-parseInt(_0x23500c(0x125))/0x7*(parseInt(_0x23500c(0x1c5))/0x8)+-parseInt(_0x23500c(0xae))/0x9*(-parseInt(_0x23500c(0x10e))/0xa);if(_0x550443===_0x547b0c)break;else _0xa844f3['push'](_0xa844f3['shift']());}catch(_0x5ea4c7){_0xa844f3['push'](_0xa844f3['shift']());}}}(_0x3d87,0x2602c));const _0x681a0a=(function(){let _0x5742ce=!![];return function(_0x328dea,_0x44f639){const _0x198f30=_0x5742ce?function(){const _0x167975=_0x53a9;if(_0x44f639){const _0x1e2d89=_0x44f639[_0x167975(0xf9)](_0x328dea,arguments);return _0x44f639=null,_0x1e2d89;}}:function(){};return _0x5742ce=![],_0x198f30;};}()),_0x512034=_0x681a0a(this,function(){const _0x9197e9=_0x53a9;return _0x512034['toString']()['search'](_0x9197e9(0x1bf))[_0x9197e9(0x143)]()[_0x9197e9(0x100)](_0x512034)['search'](_0x9197e9(0x1bf));});_0x512034();const _0x92e5c2=(function(){let _0x502105=!![];return function(_0x4d5e93,_0x5348c4){const _0x1803f8=_0x502105?function(){const _0x1646c2=_0x53a9;if(_0x5348c4){const _0x5c3600=_0x5348c4[_0x1646c2(0xf9)](_0x4d5e93,arguments);return _0x5348c4=null,_0x5c3600;}}:function(){};return _0x502105=![],_0x1803f8;};}()),_0x2e6088=_0x92e5c2(this,function(){const _0x34f245=_0x53a9,_0x225236=function(){const _0x35a3ad=_0x53a9;let _0x17f5e0;try{_0x17f5e0=Function('return\x20(function()\x20'+_0x35a3ad(0xc3)+');')();}catch(_0x2ddecd){_0x17f5e0=window;}return _0x17f5e0;},_0xd86add=_0x225236(),_0x1a05e8=_0xd86add[_0x34f245(0x10d)]=_0xd86add[_0x34f245(0x10d)]||{},_0x55c7e1=[_0x34f245(0x1c1),_0x34f245(0x195),_0x34f245(0x19f),_0x34f245(0x18f),_0x34f245(0x1c6),_0x34f245(0x1ac),_0x34f245(0x13c)];for(let _0x309f2f=0x0;_0x309f2f<_0x55c7e1['length'];_0x309f2f++){const _0x291d68=_0x92e5c2['constructor']['prototype']['bind'](_0x92e5c2),_0x5198d1=_0x55c7e1[_0x309f2f],_0x3d0136=_0x1a05e8[_0x5198d1]||_0x291d68;_0x291d68[_0x34f245(0x140)]=_0x92e5c2[_0x34f245(0x10f)](_0x92e5c2),_0x291d68['toString']=_0x3d0136['toString'][_0x34f245(0x10f)](_0x3d0136),_0x1a05e8[_0x5198d1]=_0x291d68;}});_0x2e6088();let currentPage=0x1;function _0x53a9(_0x3021dc,_0x24cd9d){const _0x8ebced=_0x3d87();return _0x53a9=function(_0x2e6088,_0x92e5c2){_0x2e6088=_0x2e6088-0xae;let _0x4a7ba9=_0x8ebced[_0x2e6088];return _0x4a7ba9;},_0x53a9(_0x3021dc,_0x24cd9d);}const pageSize=0x5;let sensoresData=[],alertasData=[],usuariosData=[],usuariosAllData=[],alertasTendenciaChart=null,alertasSucursalesChart=null;const REQUIRED_ROLE='superAdmin',token=sessionStorage[_0x5f2482(0xfd)](_0x5f2482(0x122)),userData=isTokenExpired(token);userData||(sessionStorage[_0x5f2482(0x133)]('authToken'),window[_0x5f2482(0xc9)][_0x5f2482(0x120)]=token?'sesion_expired.html':_0x5f2482(0x113));const userRole=userData[_0x5f2482(0x174)];async function initHome(){const _0x59102f=_0x5f2482;[][_0x59102f(0x159)][_0x59102f(0x170)](document['querySelectorAll'](_0x59102f(0xd3)))[_0x59102f(0x1c0)](function(_0x1e7ea9){const _0x4951b7=_0x59102f;return new bootstrap[(_0x4951b7(0x160))](_0x1e7ea9);}),await cargarKPIs(),renderPorcentajeAlertasMes();const _0xc23320=document[_0x59102f(0xf6)](_0x59102f(0x180));renderContenidoFiltrable(_0xc23320?_0xc23320[_0x59102f(0x161)]:_0x59102f(0x1af)),_0xc23320&&_0xc23320['addEventListener']('change',()=>{const _0x1ce488=_0x59102f;renderContenidoFiltrable(_0xc23320[_0x1ce488(0x161)]);}),document[_0x59102f(0x1a7)]('#dropdownPeriodoAlertas\x20+\x20ul\x20.dropdown-item')[_0x59102f(0xda)](_0x1c9300=>{const _0x3e2a9d=_0x59102f;_0x1c9300[_0x3e2a9d(0xc0)](_0x3e2a9d(0x15a),function(_0x5aaf30){const _0x450196=_0x3e2a9d;_0x5aaf30[_0x450196(0xbb)]();const _0x46e3f6=this[_0x450196(0x127)][_0x450196(0x173)],_0x81058f=document[_0x450196(0xf6)](_0x450196(0xcb));_0x81058f&&(_0x81058f['textContent']=this['textContent']),renderAlertasTendenciaChart(_0x46e3f6,getFilteredAlertasForPeriod(_0x46e3f6));});}),cargarUltimasConexiones(),setupFechaAccordion();}async function cargarKPIs(){const _0x3817ad=_0x5f2482;try{const [_0x114781,_0x8f018f,_0x25599f,_0x330b7c]=await Promise[_0x3817ad(0xb1)]([fetch(_0x3817ad(0x181),{'headers':{'Authorization':_0x3817ad(0x179)+token}}),fetch(_0x3817ad(0x124),{'headers':{'Authorization':_0x3817ad(0x179)+token}}),fetch(_0x3817ad(0x1b5),{'headers':{'Authorization':'Bearer\x20'+token}}),fetch(_0x3817ad(0x13f),{'headers':{'Authorization':'Bearer\x20'+token}})]);sensoresData=await _0x114781[_0x3817ad(0xe7)](),alertasData=await _0x8f018f[_0x3817ad(0xe7)](),usuariosData=await _0x25599f[_0x3817ad(0xe7)](),usuariosAllData=await _0x330b7c['json'](),renderKPIs(sensoresData,alertasData);}catch(_0x25818a){console[_0x3817ad(0x18f)](_0x3817ad(0x105),_0x25818a);}}function renderKPIs(_0x10aa3d,_0x544511){const _0x35e135=_0x5f2482,_0x25df45=_0x10aa3d[_0x35e135(0xef)];document[_0x35e135(0xf6)]('total-sensores')[_0x35e135(0xd4)]=_0x25df45;const _0x506482=_0x10aa3d[_0x35e135(0xb4)](_0x1656c5=>!0x0===_0x1656c5['enRango'])[_0x35e135(0xef)];document[_0x35e135(0xf6)](_0x35e135(0x126))[_0x35e135(0xd4)]=_0x506482;const _0x11f78d=_0x10aa3d['filter'](_0x2b541d=>!0x1===_0x2b541d[_0x35e135(0xba)])[_0x35e135(0xef)];document[_0x35e135(0xf6)](_0x35e135(0xfb))[_0x35e135(0xd4)]=_0x11f78d;const _0x2856cf=_0x10aa3d[_0x35e135(0xb4)](_0x368b6c=>_0x368b6c[_0x35e135(0x1a8)]&&'offline'===_0x368b6c['estado'][_0x35e135(0xc1)]())[_0x35e135(0xef)];document[_0x35e135(0xf6)]('sensores-fallo')[_0x35e135(0xd4)]=_0x2856cf;const _0x585c47=_0x25df45?(_0x11f78d/_0x25df45*0x64)[_0x35e135(0x184)](0x1):0x0;document[_0x35e135(0xf6)](_0x35e135(0x130))[_0x35e135(0xd4)]=_0x585c47+'%';const _0x224081=_0x25df45?(_0x10aa3d['filter'](_0x7f48de=>_0x7f48de['estado']&&'ONLINE'===_0x7f48de[_0x35e135(0x1a8)][_0x35e135(0x186)]())[_0x35e135(0xef)]/_0x25df45*0x64)[_0x35e135(0x184)](0x1):0x0;document[_0x35e135(0xf6)](_0x35e135(0x19c))[_0x35e135(0xd4)]=_0x224081+'%';const _0x2a51f4=_0x25df45?(_0x2856cf/_0x25df45*0x64)[_0x35e135(0x184)](0x1):0x0;document[_0x35e135(0xf6)](_0x35e135(0x1b4))[_0x35e135(0xd4)]=_0x2a51f4+'%';}function renderPorcentajeAlertasMes(){const _0x5abc84=_0x5f2482;if(!alertasData||0x0===alertasData[_0x5abc84(0xef)])return void(document['getElementById']('porcentajeAlertasMes')['textContent']='');const _0xd04cb4={};alertasData[_0x5abc84(0xda)](_0x28405d=>{const _0x4a1820=_0x5abc84,_0x4ace3a=new Date(_0x28405d['fechaHoraAlerta']?.[_0x4a1820(0x108)]||_0x28405d['fechaHoraAlerta']);if(isNaN(_0x4ace3a[_0x4a1820(0x10a)]()))return;const _0x1b7bae=_0x4ace3a[_0x4a1820(0x11c)]()+'-'+(_0x4ace3a[_0x4a1820(0x1b6)]()+0x1)['toString']()[_0x4a1820(0xcf)](0x2,'0');_0xd04cb4[_0x1b7bae]=(_0xd04cb4[_0x1b7bae]||0x0)+0x1;});const _0x4c2284=Object['keys'](_0xd04cb4)[_0x5abc84(0x178)]()['reverse'](),_0x2b0c08=document[_0x5abc84(0xf6)](_0x5abc84(0x1ba));if(_0x4c2284['length']<0x2||!_0xd04cb4[_0x4c2284[0x1]])return _0x2b0c08['textContent']='No\x20se\x20cuenta\x20con\x20datos\x20del\x20mes\x20anterior\x20para\x20calcular\x20el\x20porcentaje\x20de\x20variación.',void _0x2b0c08[_0x5abc84(0x16f)][_0x5abc84(0x1cb)]('text-success',_0x5abc84(0x19d));const _0x55c7e5=_0xd04cb4[_0x4c2284[0x0]],_0x1fd730=_0xd04cb4[_0x4c2284[0x1]],_0x2bfe5d=((_0x55c7e5-_0x1fd730)/_0x1fd730*0x64)['toFixed'](0x1);_0x2bfe5d>0x0?(_0x2b0c08['textContent']='⬆\x20'+_0x2bfe5d+_0x5abc84(0x15d),_0x2b0c08[_0x5abc84(0x16f)][_0x5abc84(0x1cb)]('text-success'),_0x2b0c08[_0x5abc84(0x16f)][_0x5abc84(0x199)](_0x5abc84(0x19d))):_0x2bfe5d<0x0?(_0x2b0c08[_0x5abc84(0xd4)]='⬇\x20'+Math[_0x5abc84(0x1b0)](_0x2bfe5d)+_0x5abc84(0x15d),_0x2b0c08[_0x5abc84(0x16f)][_0x5abc84(0x1cb)]('text-danger'),_0x2b0c08['classList'][_0x5abc84(0x199)](_0x5abc84(0x117))):(_0x2b0c08[_0x5abc84(0xd4)]='=\x20'+_0x2bfe5d+'%\x20respecto\x20al\x20mes\x20anterior',_0x2b0c08[_0x5abc84(0x16f)]['remove'](_0x5abc84(0x117),'text-danger'));}function getFilteredAlertasForPeriod(_0x1d863c){const _0x1051ae=_0x5f2482;if(!alertasData||0x0===alertasData[_0x1051ae(0xef)])return[];const _0x2e6186=new Date();let _0x3dd0c5=null;switch(_0x1d863c){case _0x1051ae(0xb8):_0x3dd0c5=new Date(_0x2e6186['getTime']()-0x5265c00);break;case'7d':_0x3dd0c5=new Date(_0x2e6186[_0x1051ae(0x10a)]()-0x240c8400);break;case'30d':_0x3dd0c5=new Date(_0x2e6186[_0x1051ae(0x10a)]()-0x9a7ec800);break;case _0x1051ae(0x147):_0x3dd0c5=new Date(_0x2e6186[_0x1051ae(0x11c)](),_0x2e6186[_0x1051ae(0x1b6)](),0x1);break;default:_0x3dd0c5=null;}return _0x3dd0c5?alertasData['filter'](_0x2b3c52=>{const _0x2eaa06=_0x1051ae,_0x14fe57=_0x2b3c52[_0x2eaa06(0x16e)]?.['$date']||_0x2b3c52['fechaHoraAlerta'],_0x49cc65=new Date(_0x14fe57);return!isNaN(_0x49cc65[_0x2eaa06(0x10a)]())&&(_0x49cc65>=_0x3dd0c5&&_0x49cc65<=_0x2e6186);}):[...alertasData];}function renderContenidoFiltrable(_0x12eb52){const _0x4955d4=getFilteredAlertasForPeriod(_0x12eb52);renderAlertasTendenciaChart(_0x12eb52,_0x4955d4),renderAlertaSucursalesChart(_0x4955d4,sensoresData),renderAlertasRecurrentesTable(_0x4955d4,sensoresData),renderRankingSensores(_0x4955d4),renderRankingFueraRango(_0x4955d4),cargarAlertasParaBarra(_0x4955d4),renderKPITiempos(_0x4955d4),renderAlertasSeguridadTable(_0x4955d4,usuariosAllData);}function cargarAlertasParaBarra(_0x166646){const _0x20cb41=_0x5f2482,_0x32ccd3={'critica':0x0,'informativa':0x0,'preventiva':0x0,'seguridad':0x0};_0x166646||(_0x166646=[]),_0x166646['forEach'](_0xb6f79=>{const _0x4dd02d=_0x53a9;let _0x127e81=(_0xb6f79[_0x4dd02d(0xd0)]||'')[_0x4dd02d(0xc1)]()[_0x4dd02d(0xe2)]('NFD')[_0x4dd02d(0xcd)](/[\u0300-\u036f]/g,'');_0x4dd02d(0xc4)===_0x127e81?_0x32ccd3[_0x4dd02d(0xc4)]++:_0x4dd02d(0x1a4)===_0x127e81?_0x32ccd3[_0x4dd02d(0x1a4)]++:_0x4dd02d(0x185)===_0x127e81?_0x32ccd3[_0x4dd02d(0x185)]++:_0x4dd02d(0x12a)===_0x127e81&&_0x32ccd3[_0x4dd02d(0x12a)]++;});const _0x194d94=_0x32ccd3[_0x20cb41(0xc4)]+_0x32ccd3[_0x20cb41(0x1a4)]+_0x32ccd3[_0x20cb41(0x185)]+_0x32ccd3['seguridad'];document[_0x20cb41(0xf6)](_0x20cb41(0x107))[_0x20cb41(0xd4)]=_0x194d94;const _0x55d95f=_0x2eaf75=>_0x194d94?_0x32ccd3[_0x2eaf75]/_0x194d94*0x64:0x0;document[_0x20cb41(0xe0)](_0x20cb41(0xdd))['style']['width']=_0x55d95f('critica')+'%',document['querySelector'](_0x20cb41(0xdc))[_0x20cb41(0x17f)][_0x20cb41(0xf3)]=_0x55d95f('informativa')+'%',document['querySelector'](_0x20cb41(0x1a5))['style'][_0x20cb41(0xf3)]=_0x55d95f(_0x20cb41(0x185))+'%',document[_0x20cb41(0xe0)](_0x20cb41(0xe1))['style'][_0x20cb41(0xf3)]=_0x55d95f(_0x20cb41(0x12a))+'%',document[_0x20cb41(0xf6)]('pct-critica')['textContent']='('+_0x55d95f(_0x20cb41(0xc4))[_0x20cb41(0x184)](0x1)+'%)',document['getElementById'](_0x20cb41(0x172))[_0x20cb41(0xd4)]='('+_0x55d95f('informativa')[_0x20cb41(0x184)](0x1)+'%)',document[_0x20cb41(0xf6)](_0x20cb41(0x114))[_0x20cb41(0xd4)]='('+_0x55d95f(_0x20cb41(0x185))['toFixed'](0x1)+'%)',document['getElementById'](_0x20cb41(0xe8))[_0x20cb41(0xd4)]='('+_0x55d95f('seguridad')[_0x20cb41(0x184)](0x1)+'%)',addBarTooltips(_0x32ccd3);}function renderKPITiempos(_0x1f3e9c){const _0x29ca21=_0x5f2482,_0x448d7e=_0x1f3e9c[_0x29ca21(0xb4)](_0x33d69f=>'Temperatura\x20fuera\x20de\x20rango'===_0x33d69f[_0x29ca21(0x16b)]&&_0x29ca21(0x18d)===_0x33d69f[_0x29ca21(0x15f)]&&null!=_0x33d69f['duracionMinutos']),_0x33efe7=_0x448d7e[_0x29ca21(0xef)]?(_0x448d7e[_0x29ca21(0x1bc)]((_0x5394a0,_0x20c8c2)=>_0x5394a0+Math['max'](0x0,Number(_0x20c8c2[_0x29ca21(0x111)])),0x0)/_0x448d7e[_0x29ca21(0xef)])['toFixed'](0x1):'--',_0xc3f129=new Date(),_0x2f0ab6={};_0x1f3e9c[_0x29ca21(0xda)](_0x10726f=>{const _0x3de1fb=_0x29ca21,_0x461d6c=_0x10726f[_0x3de1fb(0x16a)],_0x3969d0=new Date(_0x10726f[_0x3de1fb(0x16e)]?.[_0x3de1fb(0x108)]||_0x10726f[_0x3de1fb(0x16e)]);_0x461d6c&&!isNaN(_0x3969d0[_0x3de1fb(0x10a)]())&&(!_0x2f0ab6[_0x461d6c]||_0x3969d0>_0x2f0ab6[_0x461d6c])&&(_0x2f0ab6[_0x461d6c]=_0x3969d0);});const _0x4ba8b4=Object['values'](_0x2f0ab6)[_0x29ca21(0x1c0)](_0x5adb44=>Math['max'](0x0,(_0xc3f129-_0x5adb44)/0xea60)),_0x327b67=_0x4ba8b4[_0x29ca21(0xef)]?(_0x4ba8b4[_0x29ca21(0x1bc)]((_0x20c495,_0x1c894a)=>_0x20c495+_0x1c894a,0x0)/_0x4ba8b4[_0x29ca21(0xef)])[_0x29ca21(0x184)](0x1):'--',_0x3a752f=document[_0x29ca21(0xe0)](_0x29ca21(0x10b));if(_0x3a752f){const _0x46335b=_0x3a752f[_0x29ca21(0x1a7)](_0x29ca21(0x132));_0x46335b[0x1]&&(_0x46335b[0x1][_0x29ca21(0xe0)]('strong')[_0x29ca21(0xd4)]=_0x33efe7+_0x29ca21(0x19e)),_0x46335b[0x2]&&(_0x46335b[0x2]['querySelector']('strong')['textContent']=_0x327b67+_0x29ca21(0x19e));}}function renderRankingSensores(_0x37b061){const _0x517299=_0x5f2482,_0x1f5de6={};_0x37b061[_0x517299(0xda)](_0x498125=>{const _0x4c4817=_0x517299,_0x295e00=(_0x498125['tipoAlerta']||'')['toLowerCase']()[_0x4c4817(0xe2)](_0x4c4817(0x10c))[_0x4c4817(0xcd)](/[\u0300-\u036f]/g,'');if(_0x4c4817(0x12a)===(_0x498125[_0x4c4817(0xd0)]||'')[_0x4c4817(0xc1)]()||_0x4c4817(0xbc)===_0x295e00||!_0x498125[_0x4c4817(0x16a)])return;const _0x2e82c8=(_0x498125[_0x4c4817(0xd0)]||'')[_0x4c4817(0xc1)]()[_0x4c4817(0xe2)](_0x4c4817(0x10c))[_0x4c4817(0xcd)](/[\u0300-\u036f]/g,'');(Array[_0x4c4817(0x144)](_0x498125[_0x4c4817(0x16a)])?_0x498125[_0x4c4817(0x16a)]:[_0x498125[_0x4c4817(0x16a)]])[_0x4c4817(0xda)](_0x119331=>{const _0x4d2fb8=_0x4c4817;_0x119331&&(_0x1f5de6[_0x119331]||(_0x1f5de6[_0x119331]={'criticas':0x0,'informativas':0x0,'preventivas':0x0,'total':0x0}),_0x4d2fb8(0xc4)===_0x2e82c8?_0x1f5de6[_0x119331]['criticas']++:'informativa'===_0x2e82c8?_0x1f5de6[_0x119331][_0x4d2fb8(0x15c)]++:_0x4d2fb8(0x185)===_0x2e82c8&&_0x1f5de6[_0x119331][_0x4d2fb8(0x175)]++,_0x1f5de6[_0x119331]['total']++);});});const _0x42c935=Object[_0x517299(0x135)](_0x1f5de6)[_0x517299(0x1c0)](([_0x11ae15,_0x73a3fa])=>({'idSensor':_0x11ae15,..._0x73a3fa}))[_0x517299(0x178)]((_0x4ff886,_0x1a0a55)=>_0x1a0a55[_0x517299(0xbe)]-_0x4ff886[_0x517299(0xbe)])[_0x517299(0x159)](0x0,0x3),_0x4713be=document['getElementById']('ranking-sensores');_0x4713be&&(_0x4713be[_0x517299(0x158)]='',_0x42c935['forEach'](_0xdc2cd1=>{const _0x41cbfc=_0x517299,_0x1b2cb8=_0x41cbfc(0x1c8)+_0xdc2cd1[_0x41cbfc(0x16a)]+_0x41cbfc(0xca)+_0xdc2cd1['criticas']+_0x41cbfc(0xca)+_0xdc2cd1['informativas']+_0x41cbfc(0xca)+_0xdc2cd1[_0x41cbfc(0x175)]+_0x41cbfc(0x139)+_0xdc2cd1['total']+_0x41cbfc(0xf0);_0x4713be[_0x41cbfc(0x158)]+=_0x1b2cb8;}));}function renderRankingFueraRango(_0x188ae8){const _0x2aaca5=_0x5f2482,_0x2b343e={};_0x188ae8[_0x2aaca5(0xda)](_0x512cd9=>{const _0x513eed=_0x2aaca5;if(_0x513eed(0x14b)===_0x512cd9[_0x513eed(0x16b)]&&_0x513eed(0x18d)===_0x512cd9[_0x513eed(0x15f)]&&null!=_0x512cd9[_0x513eed(0x111)]){const _0x57594e=_0x512cd9[_0x513eed(0x16a)]||_0x513eed(0x13e);_0x2b343e[_0x57594e]=(_0x2b343e[_0x57594e]||0x0)+Math[_0x513eed(0xf2)](0x0,Number(_0x512cd9[_0x513eed(0x111)]));}});const _0x2a53bb=new Date(),_0xd672dc=_0x188ae8[_0x2aaca5(0x1bc)]((_0x5e1360,_0x258ba1)=>{const _0x432f1f=_0x2aaca5,_0x15a750=new Date(_0x258ba1[_0x432f1f(0x16e)]?.[_0x432f1f(0x108)]||_0x258ba1[_0x432f1f(0x16e)]);return!isNaN(_0x15a750)&&_0x15a750<_0x5e1360?_0x15a750:_0x5e1360;},_0x2a53bb),_0xd7d5c1=Math[_0x2aaca5(0xf2)](0x1,(_0x2a53bb-_0xd672dc)/0xea60),_0x14f75a=Object[_0x2aaca5(0x135)](_0x2b343e)[_0x2aaca5(0x1c0)](([_0x3474ab,_0x5d3068])=>({'sensor':_0x3474ab,'minutos':_0x5d3068,'porcentaje':Math[_0x2aaca5(0x1c2)](0x64,_0x5d3068/_0xd7d5c1*0x64)[_0x2aaca5(0x184)](0x1)}))[_0x2aaca5(0x178)]((_0x984071,_0x1e38c1)=>_0x1e38c1[_0x2aaca5(0xfe)]-_0x984071['minutos'])[_0x2aaca5(0x159)](0x0,0x3),_0xa882a5=document[_0x2aaca5(0xf6)]('ranking-sensores-fuera-tiempo');_0xa882a5&&(_0xa882a5[_0x2aaca5(0x158)]='',0x0===_0x14f75a[_0x2aaca5(0xef)]?_0xa882a5[_0x2aaca5(0x158)]='<tr><td\x20colspan=\x223\x22>No\x20hay\x20datos</td></tr>':_0x14f75a[_0x2aaca5(0xda)](_0x55f410=>{const _0x50f776=_0x2aaca5,_0x622780=(_0x55f410[_0x50f776(0xfe)]/0x3c)[_0x50f776(0x184)](0x1),_0x39f50e=_0x55f410[_0x50f776(0xfe)][_0x50f776(0x184)](0x1);_0xa882a5[_0x50f776(0x158)]+=_0x50f776(0x163)+_0x55f410[_0x50f776(0x12e)]+_0x50f776(0x1ae)+_0x39f50e+_0x50f776(0x1ae)+_0x622780+_0x50f776(0x112)+_0x55f410[_0x50f776(0x1bd)]+'%</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';}));}function toLocalAR(_0x4731e4){const _0xbe1a5b=_0x5f2482;return new Date(_0x4731e4[_0xbe1a5b(0xd5)](_0xbe1a5b(0x157),{'timeZone':_0xbe1a5b(0x138)}));}function renderAlertasTendenciaChart(_0x12a576,_0x53109f){const _0x9e9708=_0x5f2482,_0x2d66ba=new Date();let _0x3ba582,_0x30966a,_0x2a104f=_0x2d66ba,_0x5bc5fa=!0x1;switch(_0x12a576){case _0x9e9708(0xb8):_0x3ba582=new Date(_0x2d66ba[_0x9e9708(0x10a)]()-0x5265c00),_0x30966a=0x36ee80,_0x5bc5fa=!0x0;break;case'7d':_0x3ba582=new Date(_0x2d66ba['getTime']()-0x240c8400),_0x30966a=0x5265c00;break;case _0x9e9708(0x147):_0x3ba582=new Date(_0x2d66ba[_0x9e9708(0x11c)](),_0x2d66ba[_0x9e9708(0x1b6)](),0x1),_0x30966a=0x5265c00;break;case'todos':const _0x22aa1a=_0x53109f[_0x9e9708(0x1c0)](_0x5c2b0a=>new Date(_0x5c2b0a[_0x9e9708(0x16e)]?.[_0x9e9708(0x108)]||_0x5c2b0a[_0x9e9708(0x16e)]))[_0x9e9708(0xb4)](_0x5df166=>!isNaN(_0x5df166));if(!_0x22aa1a[_0x9e9708(0xef)])return;_0x3ba582=new Date(Math[_0x9e9708(0x1c2)](..._0x22aa1a)),_0x2a104f=new Date(Math[_0x9e9708(0xf2)](..._0x22aa1a)),_0x30966a=0x5265c00;}const _0x53e8cf={},_0x527fd0=[];for(let _0x41c76b=new Date(_0x3ba582);_0x41c76b<=_0x2a104f;_0x41c76b['setTime'](_0x41c76b[_0x9e9708(0x10a)]()+_0x30966a)){let _0xb28dfd;_0xb28dfd=_0x5bc5fa?_0x41c76b[_0x9e9708(0xd5)]('es-AR',{'day':'numeric','month':_0x9e9708(0x187),'hour':_0x9e9708(0x17a),'timeZone':_0x9e9708(0x138)}):_0x41c76b['toLocaleDateString'](_0x9e9708(0xd2),{'day':_0x9e9708(0x1b3),'month':_0x9e9708(0x187),'timeZone':_0x9e9708(0x138)}),_0x527fd0[_0x9e9708(0x142)](_0xb28dfd),_0x53e8cf[_0xb28dfd]={'critica':0x0,'preventiva':0x0,'informativa':0x0,'seguridad':0x0};}alertasData[_0x9e9708(0xda)](_0x160f32=>{const _0x4a8a47=_0x9e9708,_0x4b037=toLocalAR(new Date(_0x160f32[_0x4a8a47(0x16e)]?.['$date']||_0x160f32[_0x4a8a47(0x16e)]));if(isNaN(_0x4b037['getTime']())||_0x4b037<_0x3ba582||_0x4b037>_0x2a104f)return;let _0x221cac;_0x221cac=_0x5bc5fa?_0x4b037[_0x4a8a47(0xd5)](_0x4a8a47(0xd2),{'day':_0x4a8a47(0x1b3),'month':_0x4a8a47(0x187),'hour':_0x4a8a47(0x17a),'timeZone':'America/Argentina/Buenos_Aires'}):_0x4b037['toLocaleDateString'](_0x4a8a47(0xd2),{'day':_0x4a8a47(0x1b3),'month':_0x4a8a47(0x187),'timeZone':_0x4a8a47(0x138)});const _0x4b4814=(_0x160f32[_0x4a8a47(0xd0)]||'')[_0x4a8a47(0xc1)]()[_0x4a8a47(0xe2)]('NFD')[_0x4a8a47(0xcd)](/[\u0300-\u036f]/g,'');_0x53e8cf[_0x221cac]&&('critica'===_0x4b4814?_0x53e8cf[_0x221cac][_0x4a8a47(0xc4)]++:_0x4a8a47(0x185)===_0x4b4814?_0x53e8cf[_0x221cac][_0x4a8a47(0x185)]++:_0x4a8a47(0x1a4)===_0x4b4814?_0x53e8cf[_0x221cac]['informativa']++:_0x4a8a47(0x12a)===_0x4b4814&&_0x53e8cf[_0x221cac]['seguridad']++);});const _0x5e689d=[{'label':_0x9e9708(0xb9),'data':_0x527fd0[_0x9e9708(0x1c0)](_0x2b1dc2=>_0x53e8cf[_0x2b1dc2][_0x9e9708(0xc4)]),'borderColor':_0x9e9708(0xbd),'backgroundColor':'rgba(220,53,69,0.2)','fill':!0x0,'tension':0.4},{'label':_0x9e9708(0xd7),'data':_0x527fd0[_0x9e9708(0x1c0)](_0x40c2f2=>_0x53e8cf[_0x40c2f2][_0x9e9708(0x1a4)]),'borderColor':_0x9e9708(0x1ca),'backgroundColor':'rgba(255,193,7,0.2)','fill':!0x0,'tension':0.4},{'label':_0x9e9708(0x16c),'data':_0x527fd0[_0x9e9708(0x1c0)](_0x514fc7=>_0x53e8cf[_0x514fc7][_0x9e9708(0x185)]),'borderColor':_0x9e9708(0xd8),'backgroundColor':_0x9e9708(0x12d),'fill':!0x0,'tension':0.4},{'label':_0x9e9708(0x13a),'data':_0x527fd0[_0x9e9708(0x1c0)](_0x5e6774=>_0x53e8cf[_0x5e6774][_0x9e9708(0x12a)]),'borderColor':_0x9e9708(0x128),'backgroundColor':_0x9e9708(0xd9),'fill':!0x0,'tension':0.4}],_0x32f904=document[_0x9e9708(0xf6)]('alertasTendenciaChart')['getContext']('2d');alertasTendenciaChart&&alertasTendenciaChart['destroy'](),alertasTendenciaChart=new Chart(_0x32f904,{'type':'line','data':{'labels':_0x527fd0,'datasets':_0x5e689d},'options':{'responsive':!0x0,'plugins':{'legend':{'position':_0x9e9708(0x168)}},'scales':{'y':{'beginAtZero':!0x0,'title':{'display':!0x0,'text':_0x9e9708(0xea)}},'x':{'title':{'display':!0x0,'text':_0x5bc5fa?_0x9e9708(0xb5):_0x9e9708(0x11e)}}}}});}function addBarTooltips(_0x12b2a6){const _0x4a8bcd=_0x5f2482,_0xaeb9dc=document['querySelector'](_0x4a8bcd(0x136));if(!_0xaeb9dc)return;function _0x9b381e(_0x4c13a6,_0x4e814d,_0x1f69f5){const _0x13c32f=_0x4a8bcd,_0x25db6d=_0x4c13a6['getBoundingClientRect'](),_0x1e19b0=_0x25db6d[_0x13c32f(0x104)]+_0x25db6d['width']/0x2+window[_0x13c32f(0x19b)];_0x4e814d['style'][_0x13c32f(0x104)]=_0x1e19b0+'px';const _0x43aa96=_0x4e814d['getBoundingClientRect'](),_0x6d39a0=_0x25db6d[_0x13c32f(0x11a)]+window['scrollY']-_0x43aa96[_0x13c32f(0x1ab)]-0x8;_0x4e814d['style'][_0x13c32f(0x11a)]=_0x6d39a0+'px',_0x4e814d['style'][_0x13c32f(0xaf)]=_0x13c32f(0x18a),_0x4e814d['style'][_0x13c32f(0x106)]='2147483647';}[_0x4a8bcd(0xc4),_0x4a8bcd(0x1a4),_0x4a8bcd(0x185),_0x4a8bcd(0x12a)]['forEach'](_0x34fd23=>{const _0x2a0e4e=_0x4a8bcd,_0x114dc3=_0xaeb9dc[_0x2a0e4e(0xe0)]('.'+_0x34fd23);if(!_0x114dc3)return;_0x114dc3['_barHandlers']&&(_0x114dc3[_0x2a0e4e(0x1b7)](_0x2a0e4e(0x17e),_0x114dc3[_0x2a0e4e(0x177)][_0x2a0e4e(0x116)]),_0x114dc3['removeEventListener']('pointerleave',_0x114dc3[_0x2a0e4e(0x177)][_0x2a0e4e(0x1b9)]),_0x114dc3[_0x2a0e4e(0x1b7)](_0x2a0e4e(0x196),_0x114dc3[_0x2a0e4e(0x177)]['onMove']),window['removeEventListener'](_0x2a0e4e(0x14d),_0x114dc3[_0x2a0e4e(0x177)]['onScroll']),window[_0x2a0e4e(0x1b7)]('resize',_0x114dc3['_barHandlers'][_0x2a0e4e(0xdf)]),_0x114dc3[_0x2a0e4e(0x123)]&&(_0x114dc3[_0x2a0e4e(0x123)][_0x2a0e4e(0x1cb)](),_0x114dc3[_0x2a0e4e(0x123)]=null),_0x114dc3['_barHandlers']=null);const _0x5c06be=_0x2f22e3=>{const _0x109176=_0x2a0e4e,_0x39a3e2=document[_0x109176(0xed)]('div');_0x39a3e2[_0x109176(0x18b)]=_0x109176(0xdb),_0x39a3e2[_0x109176(0x121)]=_0x109176(0x166)+(_0x12b2a6[_0x34fd23]||0x0),_0x39a3e2['style'][_0x109176(0x14c)]=_0x109176(0x151),_0x39a3e2[_0x109176(0x17f)][_0x109176(0x182)]='none',_0x39a3e2['style'][_0x109176(0xde)]='1',document['body'][_0x109176(0x154)](_0x39a3e2),_0x114dc3[_0x109176(0x123)]=_0x39a3e2,_0x9b381e(_0x114dc3,_0x39a3e2);},_0x45bbd3=_0x299bcf=>{const _0x51589a=_0x2a0e4e;_0x114dc3['_barTooltip']&&_0x9b381e(_0x114dc3,_0x114dc3[_0x51589a(0x123)],_0x299bcf);},_0x2fa60a=()=>{const _0x578a6=_0x2a0e4e;_0x114dc3['_barTooltip']&&(_0x114dc3[_0x578a6(0x123)][_0x578a6(0x1cb)](),_0x114dc3[_0x578a6(0x123)]=null);},_0x3b049e=()=>{const _0x20accf=_0x2a0e4e;_0x114dc3[_0x20accf(0x123)]&&(_0x114dc3[_0x20accf(0x123)][_0x20accf(0x1cb)](),_0x114dc3[_0x20accf(0x123)]=null);};_0x114dc3[_0x2a0e4e(0xc0)]('pointerenter',_0x5c06be),_0x114dc3['addEventListener'](_0x2a0e4e(0x1a1),_0x2fa60a),_0x114dc3['addEventListener'](_0x2a0e4e(0x196),_0x45bbd3),window['addEventListener'](_0x2a0e4e(0x14d),_0x3b049e,{'passive':!0x0}),window[_0x2a0e4e(0xc0)](_0x2a0e4e(0xf4),_0x3b049e),_0x114dc3[_0x2a0e4e(0x177)]={'onEnter':_0x5c06be,'onLeave':_0x2fa60a,'onMove':_0x45bbd3,'onScroll':_0x3b049e};});}function setupFechaAccordion(){const _0x3218ea=_0x5f2482,_0xb19f43=document[_0x3218ea(0xf6)](_0x3218ea(0x1b8)),_0x3e5e72=document[_0x3218ea(0xf6)](_0x3218ea(0x164));_0xb19f43&&_0x3e5e72&&(_0xb19f43['addEventListener'](_0x3218ea(0x15a),function(_0x289a7e){const _0x291714=_0x3218ea;_0x289a7e[_0x291714(0x165)]();const _0x47bd8f=_0x291714(0x129)===this[_0x291714(0xbf)]('aria-expanded');this[_0x291714(0xf5)](_0x291714(0x15b),!_0x47bd8f),_0x3e5e72[_0x291714(0x17f)][_0x291714(0xeb)]=_0x47bd8f?_0x291714(0xb3):_0x291714(0x17d);}),document[_0x3218ea(0xc0)](_0x3218ea(0x15a),function(_0x52f8e8){const _0x328e93=_0x3218ea;_0x3e5e72['contains'](_0x52f8e8['target'])||_0x52f8e8[_0x328e93(0x1c9)]===_0xb19f43||(_0x3e5e72[_0x328e93(0x17f)][_0x328e93(0xeb)]=_0x328e93(0xb3),_0xb19f43[_0x328e93(0xf5)](_0x328e93(0x15b),_0x328e93(0xc2)));}),_0x3e5e72[_0x3218ea(0x1a7)](_0x3218ea(0x11f))['forEach'](_0x539859=>{const _0x122950=_0x3218ea;_0x539859[_0x122950(0xc0)]('click',function(_0x21992e){const _0x2cc105=_0x122950;_0x21992e[_0x2cc105(0xbb)](),_0x3e5e72[_0x2cc105(0x17f)][_0x2cc105(0xeb)]=_0x2cc105(0xb3),_0xb19f43[_0x2cc105(0xf5)](_0x2cc105(0x15b),_0x2cc105(0xc2)),filtrarPorPeriodo(this[_0x2cc105(0xbf)]('data-range'));});}));}function renderAlertaSucursalesChart(_0x447ed3,_0x37b964){const _0x5e635f=_0x5f2482;if(!_0x447ed3||0x0===_0x447ed3[_0x5e635f(0xef)]||!_0x37b964||0x0===_0x37b964[_0x5e635f(0xef)]){console[_0x5e635f(0x1c1)](_0x5e635f(0xf1));const _0x241146=document[_0x5e635f(0xf6)](_0x5e635f(0x14a));return void(_0x241146&&(_0x241146[_0x5e635f(0x17f)][_0x5e635f(0xeb)]=_0x5e635f(0xb3)));}const _0x5cfc62=_0x37b964[_0x5e635f(0x1bc)]((_0x3dd0d8,_0x3030f1)=>{const _0x444259=_0x5e635f,_0x47b6d1=_0x3030f1[_0x444259(0x167)];return null!=_0x47b6d1&&(_0x3dd0d8[String(_0x47b6d1)[_0x444259(0x102)]()]=(_0x3030f1[_0x444259(0xb6)]||'')[_0x444259(0x102)]()||_0x444259(0x150)),_0x3dd0d8;},{});console[_0x5e635f(0x1a6)]('Sensores\x20cargados\x20(ejemplo\x20claves):',Object[_0x5e635f(0xb2)](_0x5cfc62)[_0x5e635f(0x159)](0x0,0x14));const _0x58acd9=_0x447ed3[_0x5e635f(0xb4)](_0x828f3e=>_0x5e635f(0x12a)!==(_0x828f3e[_0x5e635f(0xd0)]||'')[_0x5e635f(0xc1)]()['normalize']('NFD')['replace'](/[\u0300-\u036f]/g,''))['reduce']((_0x4e73fe,_0x4145d4)=>{const _0x49e973=_0x5e635f;let _0x2dac05=_0x4145d4['direccion']&&String(_0x4145d4['direccion'])['trim']()||null;if(!_0x2dac05){const _0x2bd7fb=_0x4145d4[_0x49e973(0x16a)];if(Array[_0x49e973(0x144)](_0x2bd7fb))for(const _0x14182a of _0x2bd7fb){const _0x34a148=null!=_0x14182a?String(_0x14182a)[_0x49e973(0x102)]():null;if(_0x34a148&&_0x5cfc62[_0x49e973(0x119)](_0x34a148)){_0x2dac05=_0x5cfc62[_0x34a148];break;}}else{const _0x2aff7d=null!=_0x2bd7fb?String(_0x2bd7fb)[_0x49e973(0x102)]():null;_0x2aff7d&&_0x5cfc62[_0x49e973(0x119)](_0x2aff7d)&&(_0x2dac05=_0x5cfc62[_0x2aff7d]);}}_0x2dac05||(_0x2dac05='Sin\x20Dirección');const _0x803b42=(_0x4145d4[_0x49e973(0xd0)]||'')[_0x49e973(0xc1)]()[_0x49e973(0xe2)]('NFD')[_0x49e973(0xcd)](/[\u0300-\u036f]/g,'');return _0x4e73fe[_0x2dac05]||(_0x4e73fe[_0x2dac05]={'critica':0x0,'informativa':0x0,'preventiva':0x0}),_0x4e73fe[_0x2dac05][_0x49e973(0x119)](_0x803b42)&&_0x4e73fe[_0x2dac05][_0x803b42]++,_0x4e73fe;},{}),_0x4287bc=_0x447ed3[_0x5e635f(0xb4)](_0x5c6ac2=>{const _0x578c79=_0x5e635f;if(_0x5c6ac2[_0x578c79(0xb6)]&&String(_0x5c6ac2[_0x578c79(0xb6)])[_0x578c79(0x102)]())return!0x1;const _0x6a5b19=_0x5c6ac2[_0x578c79(0x16a)];return!_0x6a5b19||(Array[_0x578c79(0x144)](_0x6a5b19)?!_0x6a5b19[_0x578c79(0x131)](_0x23e1bf=>null!=_0x23e1bf&&_0x5cfc62[_0x578c79(0x119)](String(_0x23e1bf)[_0x578c79(0x102)]())):!_0x5cfc62['hasOwnProperty'](String(_0x6a5b19)[_0x578c79(0x102)]()));})[_0x5e635f(0xef)];console[_0x5e635f(0x1a6)](_0x5e635f(0x17b),_0x4287bc);const _0x1a6b6a=Object[_0x5e635f(0x135)](_0x58acd9)[_0x5e635f(0x1c0)](([_0x18f5db,_0x240c57])=>({'direccion':_0x18f5db,'total':_0x240c57[_0x5e635f(0xc4)]+_0x240c57['informativa']+_0x240c57[_0x5e635f(0x185)]}))[_0x5e635f(0x178)]((_0x2abc33,_0x50fbae)=>_0x50fbae[_0x5e635f(0xbe)]-_0x2abc33['total'])[_0x5e635f(0x159)](0x0,0x3)[_0x5e635f(0x1c0)](_0xf956a6=>_0xf956a6[_0x5e635f(0xb6)]),_0x208701={'critica':_0x5e635f(0xe3),'informativa':_0x5e635f(0x153),'preventiva':_0x5e635f(0x16d)},_0x4a7c5a=[_0x5e635f(0xc4),_0x5e635f(0x1a4),_0x5e635f(0x185)]['map'](_0x1d6127=>({'label':_0x1d6127[_0x5e635f(0xb7)](0x0)[_0x5e635f(0x186)]()+_0x1d6127['slice'](0x1),'data':_0x1a6b6a[_0x5e635f(0x1c0)](_0x3c6621=>_0x58acd9[_0x3c6621][_0x1d6127]),'backgroundColor':_0x208701[_0x1d6127],'borderColor':_0x208701[_0x1d6127],'borderWidth':0x1})),_0x5e6b8f=document['getElementById'](_0x5e635f(0x1ad))[_0x5e635f(0xd6)]('2d');alertasSucursalesChart&&alertasSucursalesChart[_0x5e635f(0x183)](),alertasSucursalesChart=new Chart(_0x5e6b8f,{'type':'bar','data':{'labels':_0x1a6b6a,'datasets':_0x4a7c5a},'options':{'responsive':!0x0,'scales':{'x':{'stacked':!0x1,'title':{'display':!0x0,'text':_0x5e635f(0x1bb)}},'y':{'stacked':!0x1,'title':{'display':!0x0,'text':_0x5e635f(0xea)},'beginAtZero':!0x0,'ticks':{'stepSize':0x1}}},'plugins':{'legend':{'position':_0x5e635f(0x11a)},'tooltip':{'mode':_0x5e635f(0x103),'intersect':!0x1}}}});}function _0x3d87(){const _0x4dffe6=['text-danger','\x20min','info','userData','pointerleave','sensores_info','<a\x20href=\x22#\x22\x20class=\x22page-link\x22>','informativa','.bar\x20.preventiva','debug','querySelectorAll','estado','\x20disabled','<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x22>No\x20hay\x20alertas\x20para\x20mostrar\x20el\x20ranking.</td></tr>','height','table','alertasSucursalesChart','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','todos','abs','24CoKBaq','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>','numeric','porcentaje-retraso-envio','/usuarios','getMonth','removeEventListener','fechaAccordionBtn','onLeave','porcentajeAlertasMes','Sucursales','reduce','porcentaje','1095330exMBdE','(((.+)+)+)+$','map','log','min','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','null','582336AHDAaC','exception','username','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','target','#ffc107','remove','18mArmIE','transform','getDate','all','keys','none','filter','Hora','direccion','charAt','24h','Críticas','enRango','preventDefault','caida\x20de\x20energia\x20electrica','#dc3545','total','getAttribute','addEventListener','toLowerCase','false','{}.constructor(\x22return\x20this\x22)(\x20)','critica','total-results','mespasado','<a\x20href=\x22#\x22\x20class=\x22page-link\x22>&larr;</a>','_id','location','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','dropdownPeriodoAlertas','join','replace','data-range','padStart','criticidad','ranking-alertas-seguridad-tbody','es-AR','[data-bs-toggle=\x22tooltip\x22]','textContent','toLocaleString','getContext','Informativas','#6c757d','rgba(23,162,184,0.2)','forEach','bar-tooltip','.bar\x20.informativa','.bar\x20.critica','opacity','onScroll','querySelector','.bar\x20.seguridad','normalize','#ef4444','page-item','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>','topTipos','json','pct-seguridad','values','Cantidad\x20de\x20Alertas','display','352902kNbqVX','createElement','</a>','length','</strong></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20hay\x20datos\x20suficientes\x20para\x20mostrar\x20el\x20gráfico\x20de\x20sucursales.','max','width','resize','setAttribute','getElementById','75963OwmyuC','448976BEduZu','apply','152999hpHbyn','sensores-fuera-rango','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20rowspan=\x22','getItem','minutos','estemes','constructor','\x20active','trim','index','left','Error\x20al\x20cargar\x20KPIs:','zIndex','total_alertas','$date','fecha-sort-label','getTime','.alert-kpi-card','NFD','console','5153100fZwlNv','bind','/ultimas_conexiones','duracionMinutos','\x20h</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','acceso_denegado.html','pct-preventiva','current-results-showing','onEnter','text-success','[DATA\x20ERROR]\x20No\x20se\x20encontró\x20usuario\x20para\x20el\x20ID\x20de\x20alerta:\x20','hasOwnProperty','top','ultimos7','getFullYear','<a\x20href=\x22#\x22\x20class=\x22page-link\x22>&rarr;</a>','Fecha','.dropdown-item','href','innerText','authToken','_barTooltip','/alertas','14fkKRNH','sensores-en-rango','dataset','#17a2b8','true','seguridad','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','undefined','rgba(108,117,125,0.2)','sensor','user-activity-table','porcentaje-fuera-rango','some','.d-flex','removeItem','email','entries','.bar','user-table-pagination','America/Argentina/Buenos_Aires','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><strong>','Seguridad','<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x22>No\x20hay\x20alertas\x20de\x20seguridad\x20para\x20mostrar.</td></tr>','trace','\x20alertas)</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22criticidad-','Desconocido','/usuarios_all','__proto__','sensores.html','push','toString','isArray','<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x22>No\x20hay\x20datos\x20suficientes\x20para\x20mostrar\x20el\x20ranking.</td></tr>','superAdmin','mes','th-estado','sensores.html?rango=enRango','chart-section','Temperatura\x20fuera\x20de\x20rango','position','scroll','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','split','Sin\x20Dirección','absolute','ceil','#facc15','appendChild','count','ranking-alertas-recurrentes-tbody','en-US','innerHTML','slice','click','aria-expanded','informativas','%\x20respecto\x20al\x20mes\x20anterior','onclick','estadoAlerta','Tooltip','value','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','collapseFecha','stopPropagation','Cantidad:\x20','nroSensor','bottom','contains','idSensor','tipoAlerta','Preventivas','#7F8C8D','fechaHoraAlerta','classList','call','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','pct-informativa','period','entity_type','preventivas','<tr><td\x20colspan=\x223\x22\x20class=\x22text-center\x22>No\x20hay\x20datos\x20suficientes\x20para\x20mostrar\x20las\x20alertas\x20de\x20seguridad.</td></tr>','_barHandlers','sort','Bearer\x20','2-digit','Alertas\x20sin\x20match\x20(caen\x20en\x20\x22Sin\x20Dirección\x22):','N/A','block','pointerenter','style','periodSelectHome','/sensores','pointerEvents','destroy','toFixed','preventiva','toUpperCase','short','fechaUltimoAcceso','fecha','translateX(-50%)','className','[DIAGNOSTICO]\x20IDs\x20cargados\x20para\x20el\x20mapa:\x20','cerrada','ultimos30','error','parentElement','</strong>\x20(','sensores.html?rango=fueraRango','idUsuario','00:00','warn','pointermove','ayer','hoy','add','total-sensores','scrollX','porcentaje-en-rango'];_0x3d87=function(){return _0x4dffe6;};return _0x3d87();}function renderAlertasRecurrentesTable(_0x33af30,_0x2d1934){const _0x4fa4c9=_0x5f2482;if(!_0x33af30||0x0===_0x33af30['length']||!_0x2d1934||0x0===_0x2d1934[_0x4fa4c9(0xef)])return void(document[_0x4fa4c9(0xf6)](_0x4fa4c9(0x156))[_0x4fa4c9(0x158)]=_0x4fa4c9(0x145));const _0x57413c=_0x2d1934['reduce']((_0x6130d5,_0x369a6a)=>{const _0x19ce62=_0x4fa4c9,_0x572574=_0x369a6a[_0x19ce62(0x167)]??_0x369a6a[_0x19ce62(0x16a)]??_0x369a6a['id']??_0x369a6a[_0x19ce62(0xc8)]??_0x369a6a['sensorId'];return null!=_0x572574&&(_0x6130d5[String(_0x572574)[_0x19ce62(0x102)]()]=_0x369a6a[_0x19ce62(0xb6)]||_0x19ce62(0x150)),_0x6130d5;},{}),_0x4a82a4=_0x33af30['filter'](_0x5233b0=>_0x4fa4c9(0x12a)!==(_0x5233b0[_0x4fa4c9(0xd0)]||'')[_0x4fa4c9(0xc1)]()[_0x4fa4c9(0xe2)](_0x4fa4c9(0x10c))[_0x4fa4c9(0xcd)](/[\u0300-\u036f]/g,''))['reduce']((_0x469374,_0x1b2ff5)=>{const _0x515b8a=_0x4fa4c9;let _0x12e67e=_0x1b2ff5[_0x515b8a(0xb6)]&&String(_0x1b2ff5[_0x515b8a(0xb6)])[_0x515b8a(0x102)]();if(!_0x12e67e&&Array[_0x515b8a(0x144)](_0x1b2ff5[_0x515b8a(0x1a2)])&&_0x1b2ff5['sensores_info']['length']){for(const _0x27b2ad of _0x1b2ff5[_0x515b8a(0x1a2)])if(_0x27b2ad&&_0x27b2ad[_0x515b8a(0xb6)]){_0x12e67e=String(_0x27b2ad[_0x515b8a(0xb6)])[_0x515b8a(0x102)]();break;}}if(!_0x12e67e){const _0x25ff56=_0x1b2ff5[_0x515b8a(0x16a)];if(Array[_0x515b8a(0x144)](_0x25ff56))for(const _0x4a2b8d of _0x25ff56){if(null==_0x4a2b8d)continue;const _0x40e243=String(_0x4a2b8d)['trim']();if(_0x57413c[_0x40e243]){_0x12e67e=_0x57413c[_0x40e243];break;}}else{if(null!=_0x25ff56){const _0x14cd9a=String(_0x25ff56)[_0x515b8a(0x102)]();_0x12e67e=_0x57413c[_0x14cd9a]||null;}}}_0x12e67e||(_0x12e67e=_0x515b8a(0x150));const _0x4cb501=_0x1b2ff5[_0x515b8a(0x16b)]||_0x515b8a(0x13e),_0x2584ac=_0x1b2ff5[_0x515b8a(0xd0)]||_0x515b8a(0x17c);return _0x469374[_0x12e67e]||(_0x469374[_0x12e67e]={}),_0x469374[_0x12e67e][_0x4cb501]||(_0x469374[_0x12e67e][_0x4cb501]={'count':0x0,'criticidad':_0x2584ac}),_0x469374[_0x12e67e][_0x4cb501][_0x515b8a(0x155)]++,_0x469374;},{}),_0x2298f2=Object[_0x4fa4c9(0x135)](_0x4a82a4)['map'](([_0x4cce65,_0x50e3f6])=>({'direccion':_0x4cce65,'total':Object[_0x4fa4c9(0xe9)](_0x50e3f6)['reduce']((_0x31c265,_0x262222)=>_0x31c265+_0x262222[_0x4fa4c9(0x155)],0x0),'topTipos':Object[_0x4fa4c9(0x135)](_0x50e3f6)[_0x4fa4c9(0x178)](([,_0x3bc782],[,_0x745e83])=>_0x745e83[_0x4fa4c9(0x155)]-_0x3bc782[_0x4fa4c9(0x155)])[_0x4fa4c9(0x159)](0x0,0x3)[_0x4fa4c9(0x1c0)](([_0x456888,_0x2ca934])=>({'tipo':_0x456888,'count':_0x2ca934[_0x4fa4c9(0x155)],'criticidad':_0x2ca934['criticidad']}))}))['sort']((_0x2f4ec7,_0x49e769)=>_0x49e769[_0x4fa4c9(0xbe)]-_0x2f4ec7[_0x4fa4c9(0xbe)])[_0x4fa4c9(0x159)](0x0,0x3),_0x356f12=document['getElementById'](_0x4fa4c9(0x156));_0x356f12[_0x4fa4c9(0x158)]='',0x0!==_0x2298f2[_0x4fa4c9(0xef)]?_0x2298f2[_0x4fa4c9(0xda)](_0x611c31=>{const _0x113cfe=_0x4fa4c9;let _0x1cdcf5=!0x0;_0x611c31[_0x113cfe(0xe6)][_0x113cfe(0xda)](_0x3b3d7e=>{const _0x17161c=_0x113cfe,_0x5501a0=document['createElement']('tr');_0x1cdcf5?(_0x5501a0[_0x17161c(0x158)]=_0x17161c(0xfc)+_0x611c31['topTipos'][_0x17161c(0xef)]+'\x22>'+_0x611c31[_0x17161c(0xb6)]+_0x17161c(0x1b2)+_0x3b3d7e['tipo']+_0x17161c(0x191)+_0x3b3d7e[_0x17161c(0x155)]+_0x17161c(0x13d)+_0x3b3d7e[_0x17161c(0xd0)][_0x17161c(0xc1)]()[_0x17161c(0xe2)](_0x17161c(0x10c))[_0x17161c(0xcd)](/[\u0300-\u036f]/g,'')+_0x17161c(0x1c3)+_0x3b3d7e['criticidad']+_0x17161c(0x12b),_0x1cdcf5=!0x1):_0x5501a0[_0x17161c(0x158)]=_0x17161c(0xe5)+_0x3b3d7e['tipo']+'</strong>\x20('+_0x3b3d7e[_0x17161c(0x155)]+_0x17161c(0x13d)+_0x3b3d7e[_0x17161c(0xd0)][_0x17161c(0xc1)]()[_0x17161c(0xe2)](_0x17161c(0x10c))['replace'](/[\u0300-\u036f]/g,'')+_0x17161c(0x1c3)+_0x3b3d7e[_0x17161c(0xd0)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x356f12[_0x17161c(0x154)](_0x5501a0);});}):_0x356f12[_0x4fa4c9(0x158)]=_0x4fa4c9(0x1aa);}function renderAlertasSeguridadTable(_0x20b784,_0x1f6869){const _0x27158d=_0x5f2482;if(!_0x20b784||0x0===_0x20b784[_0x27158d(0xef)]||!_0x1f6869||0x0===_0x1f6869[_0x27158d(0xef)])return void(document['getElementById'](_0x27158d(0xd1))[_0x27158d(0x158)]=_0x27158d(0x176));const _0x1bceb5=_0x1f6869[_0x27158d(0x1c0)](_0x128d68=>String(_0x128d68['_id']));console['log']('[DIAGNOSTICO]\x20Total\x20de\x20usuarios\x20en\x20el\x20array:\x20'+_0x1f6869[_0x27158d(0xef)]),console['log'](_0x27158d(0x18c)+_0x1bceb5[_0x27158d(0xcc)](',\x20'));const _0x4e21ab=_0x1f6869[_0x27158d(0x1bc)]((_0x1a5d56,_0x2042a2)=>{const _0x3516ad=_0x27158d;return _0x2042a2['_id']&&(_0x1a5d56[String(_0x2042a2[_0x3516ad(0xc8)])]=_0x2042a2['username']||_0x2042a2[_0x3516ad(0x134)]||_0x3516ad(0x13e)),_0x1a5d56;},{}),_0x119c1b=_0x20b784[_0x27158d(0xb4)](_0x2338cf=>_0x27158d(0x12a)===(_0x2338cf['criticidad']||'')[_0x27158d(0xc1)]()[_0x27158d(0xe2)](_0x27158d(0x10c))['replace'](/[\u0300-\u036f]/g,'')&&_0x2338cf[_0x27158d(0x193)])['reduce']((_0x284171,_0x54463a)=>{const _0x5a9bfe=_0x27158d,_0x3e6f69=String(_0x54463a['idUsuario']);if(!_0x3e6f69||_0x5a9bfe(0x1c4)===_0x3e6f69||_0x5a9bfe(0x12c)===_0x3e6f69)return _0x284171;_0x284171[_0x3e6f69]||(_0x284171[_0x3e6f69]={});const _0xeab24d=_0x54463a[_0x5a9bfe(0x16b)]||'Desconocido';return _0x284171[_0x3e6f69][_0xeab24d]||(_0x284171[_0x3e6f69][_0xeab24d]=0x0),_0x284171[_0x3e6f69][_0xeab24d]++,_0x284171;},{}),_0x21c001=document[_0x27158d(0xf6)](_0x27158d(0xd1));_0x21c001[_0x27158d(0x158)]='';const _0x485a9e=Object[_0x27158d(0xb2)](_0x119c1b);0x0!==_0x485a9e[_0x27158d(0xef)]?_0x485a9e[_0x27158d(0xda)](_0x1d107a=>{const _0x27a9b=_0x27158d;let _0x21b557=!0x0;const _0x4d6f17=_0x4e21ab[_0x1d107a]||_0x1d107a;_0x4d6f17===_0x1d107a&&console[_0x27a9b(0x195)](_0x27a9b(0x118)+_0x1d107a+'.');const _0x58be7c=Object[_0x27a9b(0xb2)](_0x119c1b[_0x1d107a]);_0x58be7c[_0x27a9b(0xda)](_0x353cbc=>{const _0x15893f=_0x27a9b,_0x495665=_0x119c1b[_0x1d107a][_0x353cbc],_0xa2838f=document[_0x15893f(0xed)]('tr');_0x21b557?(_0xa2838f[_0x15893f(0x158)]=_0x15893f(0xfc)+_0x58be7c[_0x15893f(0xef)]+'\x22>'+_0x4d6f17+_0x15893f(0x1ae)+_0x353cbc+_0x15893f(0x1ae)+_0x495665+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x21b557=!0x1):_0xa2838f['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x353cbc+_0x15893f(0x1ae)+_0x495665+_0x15893f(0x162),_0x21c001[_0x15893f(0x154)](_0xa2838f);});}):_0x21c001[_0x27158d(0x158)]=_0x27158d(0x13b);}_0x5f2482(0x146)!==userRole&&(window['location'][_0x5f2482(0x120)]=_0x5f2482(0x113)),sessionStorage['setItem'](_0x5f2482(0x1a0),JSON['stringify'](userData)),document[_0x5f2482(0xc0)]('DOMContentLoaded',initHome);let userTableData=[],filtroFechaActivo=!0x1;async function cargarUltimasConexiones(){const _0x4c115d=_0x5f2482,_0x1dcff1=await fetch(_0x4c115d(0x110),{'headers':{'Authorization':'Bearer\x20'+token}});userTableData=await _0x1dcff1['json'](),filteredUserTableData=[...userTableData],renderUserTable(filteredUserTableData);}function renderUserTable(_0x33a69e){const _0xf42b63=_0x5f2482,_0x1a8e8b=document['getElementById'](_0xf42b63(0x12f));_0x1a8e8b[_0xf42b63(0x158)]='';const _0x32f5a1=_0x33a69e[_0xf42b63(0xef)],_0x4f3650=Math['max'](0x1,Math[_0xf42b63(0x152)](_0x32f5a1/0x5));currentPage>_0x4f3650&&(currentPage=_0x4f3650);const _0x3ffb24=0x5*(currentPage-0x1),_0x59d56c=Math[_0xf42b63(0x1c2)](_0x3ffb24+0x5,_0x32f5a1),_0x370eef=_0x33a69e[_0xf42b63(0x159)](_0x3ffb24,_0x59d56c);_0x370eef[_0xf42b63(0xda)](_0xc2378b=>{const _0x1138c5=_0xf42b63,_0x1de28b=document['createElement']('tr');_0x1de28b['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+(_0xc2378b[_0x1138c5(0x1c7)]||'')+_0x1138c5(0x171)+(_0xc2378b[_0x1138c5(0x134)]||'')+_0x1138c5(0x171)+(_0xc2378b[_0x1138c5(0x188)]||'')+_0x1138c5(0x171)+(_0xc2378b['estado']||'')+_0x1138c5(0x14e),_0x1a8e8b['appendChild'](_0x1de28b);}),document['getElementById'](_0xf42b63(0x115))[_0xf42b63(0xd4)]=_0x370eef['length'],document[_0xf42b63(0xf6)](_0xf42b63(0xc5))[_0xf42b63(0xd4)]=_0x32f5a1,renderPagination(_0x4f3650);}function renderPagination(_0x54eda2){const _0xec8aa1=_0x5f2482,_0x425438=document[_0xec8aa1(0xf6)](_0xec8aa1(0x137));_0x425438[_0xec8aa1(0x158)]='';const _0x4425e4=document[_0xec8aa1(0xed)]('li');_0x4425e4[_0xec8aa1(0x18b)]=_0xec8aa1(0xe4)+(0x1===currentPage?_0xec8aa1(0x1a9):''),_0x4425e4[_0xec8aa1(0x158)]=_0xec8aa1(0xc7),_0x4425e4[_0xec8aa1(0xc0)](_0xec8aa1(0x15a),function(_0x539f8a){const _0x5c93db=_0xec8aa1;_0x539f8a[_0x5c93db(0xbb)](),currentPage>0x1&&(currentPage--,renderUserTable(filtroFechaActivo?filteredUserTableData:userTableData));}),_0x425438[_0xec8aa1(0x154)](_0x4425e4);let _0x273451=Math[_0xec8aa1(0xf2)](0x1,currentPage-0x2),_0x8ab2b4=Math[_0xec8aa1(0x1c2)](_0x54eda2,_0x273451+0x4);_0x8ab2b4-_0x273451<0x4&&(_0x273451=Math[_0xec8aa1(0xf2)](0x1,_0x8ab2b4-0x4));for(let _0x244b47=_0x273451;_0x244b47<=_0x8ab2b4;_0x244b47++){const _0xbcc63a=document[_0xec8aa1(0xed)]('li');_0xbcc63a[_0xec8aa1(0x18b)]=_0xec8aa1(0xe4)+(_0x244b47===currentPage?_0xec8aa1(0x101):''),_0xbcc63a[_0xec8aa1(0x158)]=_0xec8aa1(0x1a3)+_0x244b47+_0xec8aa1(0xee),_0xbcc63a[_0xec8aa1(0xc0)](_0xec8aa1(0x15a),function(_0x43fd34){const _0x336ab1=_0xec8aa1;_0x43fd34[_0x336ab1(0xbb)](),currentPage!==_0x244b47&&(currentPage=_0x244b47,renderUserTable(filtroFechaActivo?filteredUserTableData:userTableData));}),_0x425438['appendChild'](_0xbcc63a);}const _0x2b1535=document[_0xec8aa1(0xed)]('li');_0x2b1535[_0xec8aa1(0x18b)]=_0xec8aa1(0xe4)+(currentPage===_0x54eda2?_0xec8aa1(0x1a9):''),_0x2b1535[_0xec8aa1(0x158)]=_0xec8aa1(0x11d),_0x2b1535[_0xec8aa1(0xc0)](_0xec8aa1(0x15a),function(_0x18ac4c){const _0xa36c50=_0xec8aa1;_0x18ac4c[_0xa36c50(0xbb)](),currentPage<_0x54eda2&&(currentPage++,renderUserTable(filtroFechaActivo?filteredUserTableData:userTableData));}),_0x425438[_0xec8aa1(0x154)](_0x2b1535);}let filteredUserTableData=[];function sortUserTable(_0x3bd456,_0x270d98=!0x0){const _0x4ac48c=_0x5f2482;let _0x394c7e;_0x394c7e=filtroFechaActivo?[...filteredUserTableData]:[...userTableData],_0x4ac48c(0x189)===_0x3bd456?_0x394c7e['sort']((_0x313441,_0x3477a0)=>{const _0xd05e79=_0x4ac48c,_0x259e68=_0x41b323=>{const _0x50182f=_0x53a9;if(!_0x41b323)return 0x0;const [_0x23fd6a,_0x51165f,_0x3b9b9c]=_0x41b323['split']('/'),[_0x56e049,_0x108b64]=_0x3b9b9c[_0x50182f(0x14f)]('\x20');return new Date(_0x56e049+'-'+_0x51165f+'-'+_0x23fd6a+'T'+(_0x108b64||_0x50182f(0x194)));};return _0x270d98?_0x259e68(_0x313441[_0xd05e79(0x188)])-_0x259e68(_0x3477a0[_0xd05e79(0x188)]):_0x259e68(_0x3477a0[_0xd05e79(0x188)])-_0x259e68(_0x313441[_0xd05e79(0x188)]);}):'estado'===_0x3bd456&&_0x394c7e['sort']((_0x8dec49,_0x351bf8)=>{const _0x23ac29=_0x4ac48c,_0x1993f3=(_0x8dec49[_0x23ac29(0x1a8)]||'')[_0x23ac29(0xc1)](),_0x42e9d1=(_0x351bf8[_0x23ac29(0x1a8)]||'')['toLowerCase']();return _0x1993f3<_0x42e9d1?_0x270d98?-0x1:0x1:_0x1993f3>_0x42e9d1?_0x270d98?0x1:-0x1:0x0;}),renderUserTable(_0x394c7e),filtroFechaActivo&&(filteredUserTableData=_0x394c7e);}function filtrarPorPeriodo(_0x433ec4){const _0x4ec519=_0x5f2482,_0x138554=new Date();let _0x1779d7,_0x56e7a2;switch(_0x433ec4){case _0x4ec519(0x198):_0x1779d7=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()),_0x56e7a2=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554['getMonth'](),_0x138554['getDate']()+0x1),filtroFechaActivo=!0x0;break;case _0x4ec519(0x197):_0x1779d7=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()-0x1),_0x56e7a2=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()),filtroFechaActivo=!0x0;break;case _0x4ec519(0x11b):_0x1779d7=new Date(_0x138554['getFullYear'](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()-0x6),_0x56e7a2=new Date(_0x138554['getFullYear'](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()+0x1),filtroFechaActivo=!0x0;break;case _0x4ec519(0x18e):_0x1779d7=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554['getMonth'](),_0x138554[_0x4ec519(0xb0)]()-0x1d),_0x56e7a2=new Date(_0x138554['getFullYear'](),_0x138554[_0x4ec519(0x1b6)](),_0x138554[_0x4ec519(0xb0)]()+0x1),filtroFechaActivo=!0x0;break;case _0x4ec519(0xff):_0x1779d7=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554[_0x4ec519(0x1b6)](),0x1),_0x56e7a2=new Date(_0x138554[_0x4ec519(0x11c)](),_0x138554[_0x4ec519(0x1b6)]()+0x1,0x1),filtroFechaActivo=!0x0;break;case _0x4ec519(0xc6):_0x1779d7=new Date(_0x138554['getFullYear'](),_0x138554['getMonth']()-0x1,0x1),_0x56e7a2=new Date(_0x138554['getFullYear'](),_0x138554[_0x4ec519(0x1b6)](),0x1),filtroFechaActivo=!0x0;break;default:return filtroFechaActivo=!0x1,filteredUserTableData=[...userTableData],void renderUserTable(filteredUserTableData);}filtroFechaActivo=!0x0,filteredUserTableData=userTableData[_0x4ec519(0xb4)](_0x93f5=>{const _0x28e0e6=_0x4ec519;if(!_0x93f5[_0x28e0e6(0x188)])return!0x1;const [_0xb65215,_0x139aaa,_0x7bc05a]=_0x93f5['fechaUltimoAcceso']['split']('/'),[_0x21db61,_0x45a6fc]=_0x7bc05a[_0x28e0e6(0x14f)]('\x20'),_0x33a7d8=new Date(_0x21db61+'-'+_0x139aaa+'-'+_0xb65215+'T'+(_0x45a6fc||_0x28e0e6(0x194)));return _0x33a7d8>=_0x1779d7&&_0x33a7d8<_0x56e7a2;}),renderUserTable(filteredUserTableData);}let fechaAsc=!0x0,estadoAsc=!0x0;document['getElementById'](_0x5f2482(0x109))[_0x5f2482(0xc0)](_0x5f2482(0x15a),()=>{const _0x12c95c=_0x5f2482;sortUserTable(_0x12c95c(0x189),fechaAsc),fechaAsc=!fechaAsc;}),document['getElementById'](_0x5f2482(0x148))[_0x5f2482(0xc0)](_0x5f2482(0x15a),()=>{const _0x3457b3=_0x5f2482;sortUserTable(_0x3457b3(0x1a8),estadoAsc),estadoAsc=!estadoAsc;}),document[_0x5f2482(0xf6)](_0x5f2482(0x19a))[_0x5f2482(0x190)][_0x5f2482(0x15e)]=()=>{const _0x842ecf=_0x5f2482;window[_0x842ecf(0xc9)][_0x842ecf(0x120)]=_0x842ecf(0x141);},document[_0x5f2482(0xf6)](_0x5f2482(0x126))[_0x5f2482(0x190)][_0x5f2482(0x15e)]=()=>{const _0x3ce97d=_0x5f2482;window[_0x3ce97d(0xc9)][_0x3ce97d(0x120)]=_0x3ce97d(0x149);},document[_0x5f2482(0xf6)](_0x5f2482(0xfb))[_0x5f2482(0x190)][_0x5f2482(0x15e)]=()=>{const _0x514cdb=_0x5f2482;window[_0x514cdb(0xc9)][_0x514cdb(0x120)]=_0x514cdb(0x192);},document[_0x5f2482(0xf6)]('sensores-fallo')['parentElement'][_0x5f2482(0x15e)]=()=>{const _0x5f1acf=_0x5f2482;window['location'][_0x5f1acf(0x120)]='sensores.html?estado=OFFLINE';};const fechaAccordionBtn=document[_0x5f2482(0xf6)]('fechaAccordionBtn'),collapseFecha=document[_0x5f2482(0xf6)](_0x5f2482(0x164));fechaAccordionBtn['addEventListener']('click',function(_0x181263){const _0x3050d9=_0x5f2482;_0x181263[_0x3050d9(0x165)]();const _0x30b215='true'===this['getAttribute'](_0x3050d9(0x15b));this[_0x3050d9(0xf5)]('aria-expanded',!_0x30b215),collapseFecha['style']['display']=_0x30b215?_0x3050d9(0xb3):_0x3050d9(0x17d);}),document[_0x5f2482(0xc0)]('click',function(_0x3b38f6){const _0x4b44e1=_0x5f2482;collapseFecha[_0x4b44e1(0x169)](_0x3b38f6[_0x4b44e1(0x1c9)])||_0x3b38f6[_0x4b44e1(0x1c9)]===fechaAccordionBtn||(collapseFecha[_0x4b44e1(0x17f)]['display']=_0x4b44e1(0xb3),fechaAccordionBtn[_0x4b44e1(0xf5)](_0x4b44e1(0x15b),_0x4b44e1(0xc2)));}),collapseFecha[_0x5f2482(0x1a7)](_0x5f2482(0x11f))[_0x5f2482(0xda)](_0x2607ed=>{const _0x3f1344=_0x5f2482;_0x2607ed[_0x3f1344(0xc0)](_0x3f1344(0x15a),function(_0x790bba){const _0x572817=_0x3f1344;_0x790bba[_0x572817(0xbb)](),collapseFecha['style'][_0x572817(0xeb)]='none',fechaAccordionBtn[_0x572817(0xf5)](_0x572817(0x15b),_0x572817(0xc2)),filtrarPorPeriodo(this['getAttribute'](_0x572817(0xce)));});});