<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Usuario</title>
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="body-loading">
    <!-- Left and Top menu -->
    <div id="sidebar-container"></div>
    <div id="top-banner-container"></div>

    <!-- START: Invite User page content -->
    <div id="invite-page" class="main-content">
        <div class="form-container" style="max-width:900px; margin: 0 auto;">

            <div class="card" style="margin: 12px 0; max-width: 1200px; width: 100%;">
                <div class="card-body p-4">

                    <!-- TOP ROW: Invitar Usuario (input + botón en la misma línea) -->
                    <div class="top-row">
                        <h1 style="text-align:center; margin-bottom:5px;">Invitar Usuario</h1>

                        <form id="inviteForm" class="invite-form" style="width:100%; display:flex; justify-content:center;">
                            <div class="form-row invite-row" style="width:100%; max-width:640px; display:flex; gap:10px; align-items:center;">
                            <div class="form-group" style="flex:1;">
                                <label for="inviteEmail" style="display:block; margin-bottom:6px;">Correo Electrónico</label>
                                <input id="inviteEmail" name="mail" type="email" placeholder="usuario@ejemplo.com" style="width:100%;" required />
                            </div>
                            <div class="form-group" style="flex:0 0 auto; align-self:flex-end;">
                                <button id="inviteBtn" class="btn-primary invite-btn" type="submit" style="white-space:nowrap; margin-top: 3px; margin-bottom: 3px;">Invitar</button>
                            </div>
                            </div>
                        </form>
                    </div>
                    <!-- /TOP ROW -->

                    <!-- BOTTOM ROW: Tabla de usuarios + paginación (dentro del mismo wrapper) -->
                     <div class="recent-activity" style="margin-top: 5px; box-shadow: none; border-width: 0cap;">
                        <h2 style="text-align:left; margin-bottom:12px;">Lista de Usuarios
                            <span class="alias-tooltip-icon" tabindex="0" style="margin-left: 10px; position: relative;">
                                <img src="assets/informacion.png" alt="info" style="width: 16px; height: 16px;">
                                <span class="alias-tooltip-text">
                                     Muestra la lista de usuarios activos e invitados de tu organización. 
                                     Desde aquí puedes gestionar el estado (Activo/Inactivo) de cada usuario y eliminarlos de la plataforma.
                                </span>
                            </span>
                        </h2>
                        <div class="table-wrapper" style="position: relative; min-height: 340px; max-height: 340px; overflow-y: auto; padding-bottom: 10px;">
                            <table class="styled-table" id="usuariosTable" style="width:100%; margin:0 auto; table-layout:fixed;">
                                <thead>
                                    <tr>
                                        <th style="width:20%;">Username</th>
                                        <th style="width:36%;">Email</th>
                                        <th id="th-estado" style="width:18%;">Estado</th>
                                        <th id="th-eliminar" style="width:10%;">Eliminar</th>
                                    </tr>
                                </thead>
                                <tbody id="user-list-table">
                                    <!-- Aquí se insertarán las filas dinámicamente -->
                                </tbody>
                            </table>
                            <div class="table-pagination-row">
                                <div class="pagination-info">
                                    Mostrando <span id="current-results-showing">0</span> de <span id="total-results">0</span> resultados
                                </div>
                                <ul class="pagination" id="user-table-pagination">
                                    <!-- Las páginas se generan dinámicamente -->
                                </ul>
                            </div>
                        </div>
                    
                    </div>

                    <!-- /BOTTOM ROW -->

                </div>
            </div>
            <!-- Modales de éxito y error (sin cambios) -->
            <div id="successModal" class="modal">
                <div class="modal-content">
                    <span id="closeModal" class="close">&times;</span>
                    <img src="assets/termi-confirmacion.png" alt="Éxito" class="modal-success-icon">
                    <p id="successMessage"></p>
                </div>
            </div>
            <div id="errorModal" class="modal">
                <div class="modal-content">
                    <span id="closeErrorModal" class="close">&times;</span>
                    <img src="assets/termi-alerta.png" alt="Error" class="modal-success-icon">
                    <p id="errorMessage"></p>
                </div>
            </div>
        </div>
    </div>
    <!-- END: Invite User page content -->

    <script src="scripts/utils.js"></script>
    <script src="scripts/usuarios.js"></script>
    <script src="scripts/invite_user.js"></script>
    <script src='https://cdn.jotfor.ms/agent/embedjs/019815e01bf27cb087f8aa913c6a0b409237/embed.js?skipWelcome=1&maximizable=1'></script> <!--Chatbot -->
</body>
</html>